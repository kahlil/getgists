/*! jQuery Gist Plugin - v0.1.0 - 2012-10-08
* https://github.com/tim/gist
* Copyright (c) 2012 Tim von Oldenburg; Licensed MIT */
(function(e){"use strict";var t=window.console;document._write=document.write,document.write=function(e){if(e.indexOf('<div id="gist-')!==0){e.indexOf("https://gist.github.com/stylesheets/gist/embed.css")===-1&&document._write(e);return}var t=/<div id=\"gist-(\d+)/.exec(e)[1],n=document.querySelector('script[src="https://gist.github.com/'+t+'.js"]'),r=document.createElement("div");r.innerHTML=e,n.parentNode.innerHTML=e};var n=function(){e('link[href="https://gist.github.com/stylesheets/gist/embed.css"]').length===0&&e("<link>").attr({rel:"stylesheet",href:"https://gist.github.com/stylesheets/gist/embed.css"}).appendTo(e("head"))},r=function(t,n){var r="";t.user!==""&&(r="/users/"+t.user+"/gists"),e.ajax({method:"get",dataType:"json",url:"https://api.github.com"+r,success:function(e,r,i){n(s(e,t))},error:function(e,t,n){return n}})},i=function(e){},s=function(e,t){var n=[],r=[];for(var i=0,s=e.length,o=e[0];i<s;o=e[i],i++){if(t.language&&typeof t.language=="string"&&t.language.length>0){var u=!1;for(var a in o.files)o.files[a].language&&o.files[a].language.toLowerCase()===t.language.toLowerCase()&&(u=!0);if(!u)continue}if(t.keyword&&typeof t.keyword=="string"&&t.keyword.length>0&&o.description.toLowerCase().indexOf(t.keyword.toLowerCase())===-1)continue;if(t.count&&typeof t.count=="number"&&!isNaN(t.count)&&n.length>=t.count)continue;n.push(o)}return n};e.getGists=function(t){if(o[t])return o[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return o.list.apply(this,arguments);e.error("Method "+t+" does not exist on jQuery.gist")},e.fn.getGists=function(t){if(u[t])return u[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return u.embed.apply(this,arguments);e.error("Method "+t+" does not exist on jQuery.fn.gist")};var o={list:function(t){var n=e.extend({user:"",count:20},t);return r(n,function(e){n.success&&n.success(e)}),e}},u={embed:function(t){var i=e.extend({},e.fn.getGists.defaults,t);return n(),this.each(function(){r(i,e.proxy(function(t,n){t.forEach(e.proxy(function(e){var t=document.createElement("script");t.type="text/javascript",t.src="https://gist.github.com/"+e.id+".js",this.appendChild(t)},this)),i.success&&i.success()},this))})}};e.fn.getGists.defaults={count:10,outputElem:"div"}})(jQuery);